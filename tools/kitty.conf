# =============================================================================
# Kitty Terminal Configuration
# =============================================================================
# Migrated from Ghostty configuration
# Features: Catppuccin Frappe theme, custom keybindings, productivity settings
# Optimized for lower GPU usage to prevent system freezes
# =============================================================================

# Font Configuration
# ==================
font_family      FiraCode Nerd Font Mono
bold_font        auto
italic_font      auto
bold_italic_font auto
font_size 14.0

# Cursor Configuration
# ====================
cursor_shape block
cursor_blink_interval 0

# Mouse Configuration
# ===================
# Hide mouse cursor while typing (-1 disables hiding)
mouse_hide_wait -1

# Enhanced scrolling (Kitty uses lines, not multiplier like Ghostty)
# Default is 1 line per scroll, adjust as needed
wheel_scroll_multiplier 2.0
touch_scroll_multiplier 2.0

# Window Configuration
# ====================
# Window padding (all sides)
window_padding_width 4

# Window margins (space between windows in a layout)
window_margin_width 10

# Single window margin (when only one window in tab)
single_window_margin_width 0

# Window borders
window_border_width 1pt

# Remember window size and position
remember_window_size no
initial_window_width 640
initial_window_height 400

# Background tint and gaps
background_tint 0.97
background_tint_gaps -10.0

# Tab Bar Configuration
# =====================
tab_bar_edge top
tab_bar_style powerline
tab_powerline_style slanted
tab_title_template "{index}: {title}"
tab_bar_min_tabs 1

# Performance & Rendering
# ========================
# Reduce GPU load (helps prevent system freezes with Intel integrated graphics)
sync_to_monitor no
repaint_delay 10
input_delay 3

# Window Layout
# =============
# tall = side-by-side (one main on left, others on right)
# fat = top/bottom (one main on top, others on bottom)
enabled_layouts tall:bias=50;full_size=1,fat:bias=50;full_size=1,stack

# Shell Integration
# =================
shell zsh
shell_integration enabled

# Disable cursor shape changes from applications
# (equivalent to Ghostty's no-cursor feature)
shell_integration no-cursor

# =============================================================================
# Custom Keybindings with Ctrl+S Prefix
# =============================================================================
# Kitty supports "leader" key sequences similar to tmux
# We'll use Ctrl+S as our prefix key

# Clear all default keybindings that might conflict
# (Optional: comment out if you want to keep some defaults)

# System and Window Management
# =============================
# Reload config: Ctrl+S > R
map ctrl+s>r load_config_file

# Close window/tab: Ctrl+S > X
map ctrl+s>x close_window

# New OS window: Ctrl+S > N
map ctrl+s>n new_os_window

# Tab Management
# ==============
# New tab: Ctrl+S > C
map ctrl+s>c new_tab

# Next tab: Ctrl+S > Shift+L
map ctrl+s>shift+l next_tab

# Previous tab: Ctrl+S > Shift+H
map ctrl+s>shift+h previous_tab

# Move tab backward: Ctrl+S > ,
map ctrl+s>, move_tab_backward

# Move tab forward: Ctrl+S > .
map ctrl+s>. move_tab_forward

# Quick Tab Switching (1-9)
# ==========================
map ctrl+s>1 goto_tab 1
map ctrl+s>2 goto_tab 2
map ctrl+s>3 goto_tab 3
map ctrl+s>4 goto_tab 4
map ctrl+s>5 goto_tab 5
map ctrl+s>6 goto_tab 6
map ctrl+s>7 goto_tab 7
map ctrl+s>8 goto_tab 8
map ctrl+s>9 goto_tab 9

# Split/Window Management
# ========================
# Note: Kitty calls splits "windows" within a tab
# After splitting, focus moves to the NEW pane - use HJKL to navigate back

# Vertical split (new window to the right): Ctrl+S > | or \
# Creates LEFT and RIGHT panes (side-by-side) using 'tall' layout
map ctrl+s>shift+backslash combine : goto_layout tall : new_window_with_cwd
map ctrl+s>backslash combine : goto_layout tall : new_window_with_cwd
map ctrl+s>pipe combine : goto_layout tall : new_window_with_cwd

# Horizontal split (new window below): Ctrl+S > -
# Creates TOP and BOTTOM panes (stacked) using 'fat' layout
map ctrl+s>minus combine : goto_layout fat : new_window_with_cwd
map ctrl+s>shift+minus combine : goto_layout fat : new_window_with_cwd

# Navigate Between Splits
# ========================
# Move to window below: Ctrl+S > J
map ctrl+s>j neighboring_window down

# Move to window above: Ctrl+S > K
map ctrl+s>k neighboring_window up

# Move to window left: Ctrl+S > H
map ctrl+s>h neighboring_window left

# Move to window right: Ctrl+S > L
map ctrl+s>l neighboring_window right

# Split Operations
# ================
# Toggle zoom (maximize current split): Ctrl+S > Z
map ctrl+s>z toggle_layout stack

# Equalize splits: Ctrl+S > E
# (Kitty resets to default layout proportions)
map ctrl+s>e reset_window_sizes

# Additional Useful Keybindings
# ==============================
# Copy to clipboard
map ctrl+shift+c copy_to_clipboard

# Paste from clipboard
map ctrl+shift+v paste_from_clipboard

# Increase font size
map ctrl+shift+equal change_font_size all +1.0

# Decrease font size
map ctrl+shift+minus change_font_size all -1.0

# Reset font size
map ctrl+shift+0 change_font_size all 0

# Browse and apply themes: Ctrl+S > T (requires Kitty 0.23+)
# NOTE: Your version (0.21.2) doesn't support this. Update Kitty or use manual theme switching.
# map ctrl+s>t kitten themes

# Edit config file: Ctrl+S > Shift+E (opens in default $EDITOR)
map ctrl+s>shift+e launch --type=overlay $EDITOR ~/.config/kitty/kitty.conf

# Quick access keybindings
# F1: New window with current directory
map f1 new_window_with_cwd

# F2: Launch editor in current directory
map f2 launch --cwd=current $EDITOR

# F3: Theme switcher (manual - for Kitty 0.21.x)
map f3 launch --type=overlay ~/.config/kitty/switch_theme.sh

# =============================================================================
# Theme: Catppuccin Frappe
# =============================================================================
# Official Catppuccin Frappe color scheme for Kitty

# The basic colors
foreground              #C6D0F5
background              #303446
selection_foreground    #303446
selection_background    #F2D5CF

# Cursor colors
cursor                  #F2D5CF
cursor_text_color       #303446

# URL underline color when hovering with mouse
url_color               #F2D5CF

# Kitty window border colors
active_border_color     #44ffff
inactive_border_color   #737994
bell_border_color       #E5C890

# OS Window titlebar colors
wayland_titlebar_color system
macos_titlebar_color system

# Tab bar colors
active_tab_foreground   #232634
active_tab_background   #CA9EE6
inactive_tab_foreground #C6D0F5
inactive_tab_background #292C3C
tab_bar_background      #232634

# Colors for marks (marked text in the terminal)
mark1_foreground #303446
mark1_background #BABBF1
mark2_foreground #303446
mark2_background #CA9EE6
mark3_foreground #303446
mark3_background #85C1DC

# The 16 terminal colors

# black
color0 #51576D
color8 #626880

# red
color1 #E78284
color9 #E78284

# green
color2  #A6D189
color10 #A6D189

# yellow
color3  #E5C890
color11 #E5C890

# blue
color4  #8CAAEE
color12 #8CAAEE

# magenta
color5  #F4B8E4
color13 #F4B8E4

# cyan
color6  #81C8BE
color14 #81C8BE

# white
color7  #B5BFE2
color15 #A5ADCE
